8086PC机（16位）：

1.内存并没有分段，段的划分来自于CPU。

2.8086PC机中专门存放段地址的寄存器：CS-代码段寄存器；DS-数据段寄存器；SS-栈段寄存器；ES-附加段寄存器。

3.dosbox用debug程序执行代码

```
a 地址 - 写入汇编指令

d 地址 - 查看数据

u 地址 - 查看代码

t - 执行CS:IP处代码
```

4.两个关键的寄存器：

```
CS：代码段寄存器

IP：指令指针寄存器
```

5.CPU将CS：IP指向的内存单元中的内容看做是指令

6.**不能把段地址直接送入段地址寄存器DS中！**应该把段地址先送入通用寄存器中，再把通用寄存器的内容送入段地址寄存器DS中。

7.add指令不能两个数都来自内存。

8.段内转移：只修改IP，如jmp ax

- 短转移：jmp short 标号（8位位移）
- 近转移：jmp near ptr 标号（16位位移）

   段间转移：同时修改CS和IP，如jmp 1000：0

9.jmp：无条件转移指令

   jcxz：条件转移指令（判断寄存器cx中值是否为0）

   loop：循环指令

10.转移地址在内存中的call指令

```
---call word ptr 内存单元地址相当于：
	push IP
	jmp word ptr 内存单元地址
	如：
	mov sp,10h
	mov ax,0123h
	mov ds:[0],ax
	call word ptr ds:[0]
	执行后，（IP）=0123H，（sp）=0EH
	
---call dword ptr 内存单元地址相当于：
	push CS
	push IP
	jmp dword ptr 内存单元地址
	如：
	mov sp,10h
	mov ax,0123h
	mov ds:[0],ax
	mov word ptr ds:[2],0
	call dword ptr ds:[0]
	执行后，（IP）=0123H，（sp）=0EH
```

11.返回指令：ret和retf

|        |                  ret指令                   |                    retf指令                    |
| :----: | :----------------------------------------: | :--------------------------------------------: |
|  功能  | 用栈中的数据，修改IP的内容，从而实现近转移 | 用栈中的数据，修改CS和IP的内容，从而实现远转移 |
| 相当于 |                   pop IP                   |                 pop IP，pop CS                 |

12.ja（jump above）：大于则转移到目标指令执行。

13.中断例程的应用

```
事实上，我们可以将中断例程（interrupt routine）当作子程序（函数）调用来实现一些特定功能。不同的是：

1）调用方式。中断例程通过“int n”引发中断，而被调用，通过“iret”返回；子函数通过“call label”指令调用，通过“ret”指令返回。

2）中断例程安装后，会长驻内存（除非退出DOS，或被覆盖），故中断例程可以被不同的程序反复调用；而子程序是随主程序一同被加载到一片连续的内存（逻辑上），只能在同一个程序内被调用。
```

14.dup伪指令

```
例：db 10 dup (0) ; 连续定义10个字节型的0
```

15.LEA

```
LEA是微机8086/8088系列的一条指令，取自英语Load effect address——取有效地址，也就是取偏移地址。在微机8086/8088中有20位物理地址，由16位段基址向左偏移4位再与偏移地址之和得到。
　  取偏移地址指令指令格式如下：
　　LEA reg16,mem
　　
　　LEA指令将存储器操作数mem的4位16进制偏移地址送到指定的寄存器。这里，源操作数必须是存储器操作数，目标操作数必须是16位通用寄存器。因该寄存器常用来作为地址指针，故在此最好选用四个间址寄存器BX,BP,SI,DI之一。
    LEA 指令要求原操作数必须是存储单元，而且目的操作数必须是一个除段寄存器之外的16位或32位寄存器。当目的操作数是16位通用寄存器时，那么只装入有效地址的低16位。使用时要注意它与MOV指令的区别，MOV指令传送的一般是源操作数中的内容而不是地址。
```

16.特殊功能的寄存器

```
IP（Instruction Pointer）：指令指针寄存器，与CS配合使用，可跟踪程序的执行过程； 
SP（Stack Pointer）：堆栈指针，与SS配合使用，可指向目前的堆栈位置。 
BP（Base Pointer）：基址指针寄存器，可用作SS的一个相对基址位置； 
SI（Source Index）：源变址寄存器可用来存放相对于DS段之源变址指针； 
DI（Destination Index）：目的变址寄存器，可用来存放相对于ES段之目的变址指针。
```

17.db,dw,dd

```
db定义字节类型变量，一个字节数据占1个字节单元，读完一个，偏移量加1
dw定义字类型变量，一个字数据占2个字节单元，读完一个，偏移量加2
dd定义双字类型变量，一个双字数据占4个字节单元，读完一个，偏移量加4
```

